pipeline:
  branches:
    - name: main
      elements:
        - name: videotestsrc
          properties:
            pattern: smpte
        - name: capsfilter
          properties:
            caps: video/x-raw,width=640,height=480,framerate=30/1
        - name: timeoverlay
          optional: true
        - name: BranchA
          type: tee
        - name: autovideosink
          type: sink

    - name: BranchA
      elements:
        - name: metadatainjector
          optional: true
        - name: BranchB
          type: tee
        - name: metadataextractor
          optional: true
        - name: autovideosink
          type: sink

    - name: BranchB
      elements:
        - name: metadataextractor
          optional: true
        - name: BranchC
          type: tee
        - name: autovideosink
          type: sink

    - name: BranchC
      elements:
        - name: autovideosink
          type: sink